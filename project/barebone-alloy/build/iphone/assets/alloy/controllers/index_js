function __processArg(e,o){var t=null;return e&&(t=e[o]||null,delete e[o]),t}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,o={};e.__views.winParent=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,id:"winParent"}),e.__views.winParent&&e.addTopLevelView(e.__views.winParent),e.__views.menuview=Ti.UI.createView({left:0,top:0,backgroundColor:"#ffffff",width:Ti.UI.SIZE,bottom:5,height:Ti.UI.SIZE,id:"menuview"}),e.__views.winParent.add(e.__views.menuview),e.__views.flyoutTable=Ti.UI.createTableView({width:275,left:0,showVerticalScrollIndicator:!1,scrollable:!0,backgroundColor:"transparent",separatorStyle:"none",id:"flyoutTable"}),e.__views.menuview.add(e.__views.flyoutTable),o.destroy=function(){},_.extend(e,e.__views);var t=this;Titanium.App.addEventListener("DID_LOGIN",function(){var o=[{title:"Photopon",controller:"Home",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_give.png",iconAndroid:"/images/ic_give.png",rowBackgroundColor:Alloy.Globals.ThemeColors.yellow,isHeader:!0},{title:"My Friends",controller:"PhotoponFriends",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_more_option.png",iconAndroid:"/images/ic_more_option.png",rowBackgroundColor:Alloy.Globals.generateRandomColor()},{title:"Wallet",controller:"PhotoponWallet",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_wallet.png",iconAndroid:"/images/ic_wallet.png",rowBackgroundColor:Alloy.Globals.generateRandomColor()}];"merchant"==UTL.userInfo().role&&(o.push({title:"Locations",controller:"MerchantLocations",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_wallet.png",iconAndroid:"/images/ic_wallet.png",rowBackgroundColor:Alloy.Globals.generateRandomColor()}),o.push({title:"Coupons",controller:"MerchantCoupons",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_wallet.png",iconAndroid:"/images/ic_wallet.png",rowBackgroundColor:Alloy.Globals.generateRandomColor()})),UTL.userInfo().admin&&(console.log("I am here somehow"),o.push({title:"Merchant Requests",controller:"MerchantRequests",color:Alloy.Globals.ThemeColors.black,icon:"/images/ic_wallet.png",iconAndroid:"/images/ic_wallet.png",rowBackgroundColor:Alloy.Globals.generateRandomColor()}));var t=[];_.each(o,function(e){t.push(Alloy.createController("FlyoutRow1",{image:e.icon,title:e.title,name:e.controller,controller:e.controller}).getView())}),e.flyoutTable.top="7"==Alloy.Globals.isIOS7()?18:0,e.flyoutTable.setData(t),e.flyoutTable.addEventListener("click",function(e){Alloy.Globals.isMenuVisible=!1,Alloy.Globals.navGroup.animate(Alloy.Globals.animations.right),Titanium.API.info("Current Controller: "+Alloy.Globals.CurrentWindow),Titanium.API.info("Selected Controller: "+e.row.name),Alloy.Globals.CurrentWindow=e.row.name;var o=Alloy.createController(e.row.controller,{title:e.row.titleValue,name:e.row.name,isFlyout:!0}),t=o.getView();Alloy.Globals.navGroup.openWindow(t,{animated:!0}),Alloy.Globals.navGroup.window=t})}),Alloy.Globals.isMenuVisible=!1,e.winParent.addEventListener("open",function(){Alloy.Globals.navGroup=Titanium.UI.iOS.createNavigationWindow({left:0});var e=Alloy.createController("WelcomeRoot",{title:"Welcome",context:t}),o=e.getView();Alloy.Globals.navGroup.window=o,Alloy.Globals.navGroup.width=Alloy.Globals.Frames.per100Width,Alloy.Globals.navGroup.open()}),Alloy.Globals.isMenuVisible=!1,e.winParent.open(),_.extend(e,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;