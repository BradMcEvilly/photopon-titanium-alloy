function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="customProductView",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.outerView=Ti.UI.createView({height:Ti.UI.SIZE,bottom:7,top:7,width:153,id:"outerView"}),e.__views.outerView&&e.addTopLevelView(e.__views.outerView),e.__views.innerView=Ti.UI.createView({top:7,right:7,bottom:7,left:7,layout:"vertical",height:Ti.UI.SIZE,backgroundColor:Alloy.Globals.ThemeStyles.products_table_tile.backgroundColor,id:"innerView"}),e.__views.outerView.add(e.__views.innerView),e.__views.imgProduct=Ti.UI.createImageView({top:0,width:Alloy.Globals.ThemeStyles.products_table_row.imageWidth,height:Alloy.Globals.ThemeStyles.products_table_row.imageHeight,hires:!0,preventDefaultImage:!0,touchEnabled:!1,id:"imgProduct"}),e.__views.innerView.add(e.__views.imgProduct),e.__views.indSmall=Ti.UI.createActivityIndicator({style:Ti.UI.iPhone.ActivityIndicatorStyle.PLAIN,id:"indSmall"}),e.__views.imgProduct.add(e.__views.indSmall),e.__views.infoView=Ti.UI.createView({height:Ti.UI.SIZE,layout:"vertical",id:"infoView"}),e.__views.innerView.add(e.__views.infoView),e.__views.lblTitle=Ti.UI.createLabel({color:Alloy.Globals.ThemeStyles.feed_table_row_title.color,left:0,font:Alloy.Globals.ThemeStyles.feed_table_row_title.font,top:10,height:Ti.UI.SIZE,wordWrap:!0,id:"lblTitle"}),e.__views.infoView.add(e.__views.lblTitle),e.__views.tagView=Ti.UI.createView({height:Ti.UI.SIZE,layout:"horizontal",left:0,top:0,id:"tagView"}),e.__views.infoView.add(e.__views.tagView),e.__views.lblDetail=Ti.UI.createLabel({color:Alloy.Globals.ThemeStyles.feed_table_row_teaser.color,left:0,right:14,height:35,top:10,font:Alloy.Globals.ThemeStyles.feed_table_row_teaser.font,id:"lblDetail"}),e.__views.infoView.add(e.__views.lblDetail),t.destroy=function(){},_.extend(e,e.__views);var o=arguments[0]||{},l=require("apiHelper");e.outerView.left=o.left,e.innerView.product=o.product,e.lblTitle.product=o.product,e.tagView.product=o.product,e.lblDetail.product=o.product,e.indSmall.show(),l.APIGetRequestImage(o.product.thumb,e.imgProduct,e.indSmall,function(e){var t=this.status;if(200==t){var o=e.source.imgView;o.setImage(this.responseData),e.source.ind.hide()}}),e.innerView.addEventListener("touchstart",function(){e.innerView.backgroundColor=Alloy.Globals.ThemeStyles.products_table_tile.selectedBackgroundColor,e.outerView.backgroundColor=Alloy.Globals.ThemeStyles.products_table_tile.selectedBackgroundColor}),e.innerView.addEventListener("touchcancel",function(){e.innerView.backgroundColor=Alloy.Globals.ThemeStyles.products_table_tile.backgroundColor,e.outerView.backgroundColor="transparent"}),e.innerView.addEventListener("touchend",function(){e.innerView.backgroundColor=Alloy.Globals.ThemeStyles.products_table_tile.backgroundColor,e.outerView.backgroundColor="transparent"}),e.innerView.addEventListener("click",function(e){var t=Alloy.createController("ProductDetail",{ProductItem:e.source.product}).getView();Alloy.Globals.navGroup.openWindow(t)}),e.lblTitle.text=o.product.title,e.lblDetail.text=o.product.body.length>37?o.product.body.substring(0,37)+"...":o.product.body;for(var i=0;i<o.product.tags.length;i++){var r=Ti.UI.createLabel({color:Alloy.Globals.ThemeStyles.feed_table_row_tags.color,font:Alloy.Globals.ThemeStyles.feed_table_row_tags.font,left:0});r.text=i+1==o.product.tags.length?o.product.tags[i]:o.product.tags[i]+", ",e.tagView.add(r)}_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;