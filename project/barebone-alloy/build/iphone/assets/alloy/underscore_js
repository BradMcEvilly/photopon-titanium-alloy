(function(){var e=this,l=e._,o={},t=Array.prototype,r=Object.prototype,i=Function.prototype,n=t.push,a=t.slice,s=t.concat,d=r.toString,y=r.hasOwnProperty,b=t.forEach,u=t.map,h=t.reduce,c=t.reduceRight,g=t.filter,p=t.every,T=t.some,m=t.indexOf,_=t.lastIndexOf,A=Array.isArray,w=Object.keys,S=i.bind,f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):e._=f,f.VERSION="1.6.0";var G=f.each=f.forEach=function(e,l,t){if(null==e)return e;if(b&&e.forEach===b)e.forEach(l,t);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(l.call(t,e[r],r,e)===o)return}else for(var n=f.keys(e),r=0,i=n.length;i>r;r++)if(l.call(t,e[n[r]],n[r],e)===o)return;return e};f.map=f.collect=function(e,l,o){var t=[];return null==e?t:u&&e.map===u?e.map(l,o):(G(e,function(e,r,i){t.push(l.call(o,e,r,i))}),t)};var C="Reduce of empty array with no initial value";f.reduce=f.foldl=f.inject=function(e,l,o,t){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return t&&(l=f.bind(l,t)),r?e.reduce(l,o):e.reduce(l);if(G(e,function(e,i,n){r?o=l.call(t,o,e,i,n):(o=e,r=!0)}),!r)throw new TypeError(C);return o},f.reduceRight=f.foldr=function(e,l,o,t){var r=arguments.length>2;if(null==e&&(e=[]),c&&e.reduceRight===c)return t&&(l=f.bind(l,t)),r?e.reduceRight(l,o):e.reduceRight(l);var i=e.length;if(i!==+i){var n=f.keys(e);i=n.length}if(G(e,function(a,s,d){s=n?n[--i]:--i,r?o=l.call(t,o,e[s],s,d):(o=e[s],r=!0)}),!r)throw new TypeError(C);return o},f.find=f.detect=function(e,l,o){var t;return v(e,function(e,r,i){return l.call(o,e,r,i)?(t=e,!0):void 0}),t},f.filter=f.select=function(e,l,o){var t=[];return null==e?t:g&&e.filter===g?e.filter(l,o):(G(e,function(e,r,i){l.call(o,e,r,i)&&t.push(e)}),t)},f.reject=function(e,l,o){return f.filter(e,function(e,t,r){return!l.call(o,e,t,r)},o)},f.every=f.all=function(e,l,t){l||(l=f.identity);var r=!0;return null==e?r:p&&e.every===p?e.every(l,t):(G(e,function(e,i,n){return(r=r&&l.call(t,e,i,n))?void 0:o}),!!r)};var v=f.some=f.any=function(e,l,t){l||(l=f.identity);var r=!1;return null==e?r:T&&e.some===T?e.some(l,t):(G(e,function(e,i,n){return r||(r=l.call(t,e,i,n))?o:void 0}),!!r)};f.contains=f.include=function(e,l){return null==e?!1:m&&e.indexOf===m?-1!=e.indexOf(l):v(e,function(e){return e===l})},f.invoke=function(e,l){var o=a.call(arguments,2),t=f.isFunction(l);return f.map(e,function(e){return(t?l:e[l]).apply(e,o)})},f.pluck=function(e,l){return f.map(e,f.property(l))},f.where=function(e,l){return f.filter(e,f.matches(l))},f.findWhere=function(e,l){return f.find(e,f.matches(l))},f.max=function(e,l,o){if(!l&&f.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var t=-1/0,r=-1/0;return G(e,function(e,i,n){var a=l?l.call(o,e,i,n):e;a>r&&(t=e,r=a)}),t},f.min=function(e,l,o){if(!l&&f.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var t=1/0,r=1/0;return G(e,function(e,i,n){var a=l?l.call(o,e,i,n):e;r>a&&(t=e,r=a)}),t},f.shuffle=function(e){var l,o=0,t=[];return G(e,function(e){l=f.random(o++),t[o-1]=t[l],t[l]=e}),t},f.sample=function(e,l,o){return null==l||o?(e.length!==+e.length&&(e=f.values(e)),e[f.random(e.length-1)]):f.shuffle(e).slice(0,Math.max(0,l))};var I=function(e){return null==e?f.identity:f.isFunction(e)?e:f.property(e)};f.sortBy=function(e,l,o){return l=I(l),f.pluck(f.map(e,function(e,t,r){return{value:e,index:t,criteria:l.call(o,e,t,r)}}).sort(function(e,l){var o=e.criteria,t=l.criteria;if(o!==t){if(o>t||void 0===o)return 1;if(t>o||void 0===t)return-1}return e.index-l.index}),"value")};var k=function(e){return function(l,o,t){var r={};return o=I(o),G(l,function(i,n){var a=o.call(t,i,n,l);e(r,a,i)}),r}};f.groupBy=k(function(e,l,o){f.has(e,l)?e[l].push(o):e[l]=[o]}),f.indexBy=k(function(e,l,o){e[l]=o}),f.countBy=k(function(e,l){f.has(e,l)?e[l]++:e[l]=1}),f.sortedIndex=function(e,l,o,t){o=I(o);for(var r=o.call(t,l),i=0,n=e.length;n>i;){var a=i+n>>>1;o.call(t,e[a])<r?i=a+1:n=a}return i},f.toArray=function(e){return e?f.isArray(e)?a.call(e):e.length===+e.length?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:e.length===+e.length?e.length:f.keys(e).length},f.first=f.head=f.take=function(e,l,o){return null==e?void 0:null==l||o?e[0]:0>l?[]:a.call(e,0,l)},f.initial=function(e,l,o){return a.call(e,0,e.length-(null==l||o?1:l))},f.last=function(e,l,o){return null==e?void 0:null==l||o?e[e.length-1]:a.call(e,Math.max(e.length-l,0))},f.rest=f.tail=f.drop=function(e,l,o){return a.call(e,null==l||o?1:l)},f.compact=function(e){return f.filter(e,f.identity)};var E=function(e,l,o){return l&&f.every(e,f.isArray)?s.apply(o,e):(G(e,function(e){f.isArray(e)||f.isArguments(e)?l?n.apply(o,e):E(e,l,o):o.push(e)}),o)};f.flatten=function(e,l){return E(e,l,[])},f.without=function(e){return f.difference(e,a.call(arguments,1))},f.partition=function(e,l){var o=[],t=[];return G(e,function(e){(l(e)?o:t).push(e)}),[o,t]},f.uniq=f.unique=function(e,l,o,t){f.isFunction(l)&&(t=o,o=l,l=!1);var r=o?f.map(e,o,t):e,i=[],n=[];return G(r,function(o,t){(l?t&&n[n.length-1]===o:f.contains(n,o))||(n.push(o),i.push(e[t]))}),i},f.union=function(){return f.uniq(f.flatten(arguments,!0))},f.intersection=function(e){var l=a.call(arguments,1);return f.filter(f.uniq(e),function(e){return f.every(l,function(l){return f.contains(l,e)})})},f.difference=function(e){var l=s.apply(t,a.call(arguments,1));return f.filter(e,function(e){return!f.contains(l,e)})},f.zip=function(){for(var e=f.max(f.pluck(arguments,"length").concat(0)),l=new Array(e),o=0;e>o;o++)l[o]=f.pluck(arguments,""+o);return l},f.object=function(e,l){if(null==e)return{};for(var o={},t=0,r=e.length;r>t;t++)l?o[e[t]]=l[t]:o[e[t][0]]=e[t][1];return o},f.indexOf=function(e,l,o){if(null==e)return-1;var t=0,r=e.length;if(o){if("number"!=typeof o)return t=f.sortedIndex(e,l),e[t]===l?t:-1;t=0>o?Math.max(0,r+o):o}if(m&&e.indexOf===m)return e.indexOf(l,o);for(;r>t;t++)if(e[t]===l)return t;return-1},f.lastIndexOf=function(e,l,o){if(null==e)return-1;var t=null!=o;if(_&&e.lastIndexOf===_)return t?e.lastIndexOf(l,o):e.lastIndexOf(l);for(var r=t?o:e.length;r--;)if(e[r]===l)return r;return-1},f.range=function(e,l,o){arguments.length<=1&&(l=e||0,e=0),o=arguments[2]||1;for(var t=Math.max(Math.ceil((l-e)/o),0),r=0,i=new Array(t);t>r;)i[r++]=e,e+=o;return i};var L=function(){};f.bind=function(e,l){var o,t;if(S&&e.bind===S)return S.apply(e,a.call(arguments,1));if(!f.isFunction(e))throw new TypeError;return o=a.call(arguments,2),t=function(){if(!(this instanceof t))return e.apply(l,o.concat(a.call(arguments)));L.prototype=e.prototype;var r=new L;L.prototype=null;var i=e.apply(r,o.concat(a.call(arguments)));return Object(i)===i?i:r}},f.partial=function(e){var l=a.call(arguments,1);return function(){for(var o=0,t=l.slice(),r=0,i=t.length;i>r;r++)t[r]===f&&(t[r]=arguments[o++]);for(;o<arguments.length;)t.push(arguments[o++]);return e.apply(this,t)}},f.bindAll=function(e){var l=a.call(arguments,1);if(0===l.length)throw new Error("bindAll must be passed function names");return G(l,function(l){e[l]=f.bind(e[l],e)}),e},f.memoize=function(e,l){var o={};return l||(l=f.identity),function(){var t=l.apply(this,arguments);return f.has(o,t)?o[t]:o[t]=e.apply(this,arguments)}},f.delay=function(e,l){var o=a.call(arguments,2);return setTimeout(function(){return e.apply(null,o)},l)},f.defer=function(e){return f.delay.apply(f,[e,1].concat(a.call(arguments,1)))},f.throttle=function(e,l,o){var t,r,i,n=null,a=0;o||(o={});var s=function(){a=o.leading===!1?0:f.now(),n=null,i=e.apply(t,r),t=r=null};return function(){var d=f.now();a||o.leading!==!1||(a=d);var y=l-(d-a);return t=this,r=arguments,0>=y?(clearTimeout(n),n=null,a=d,i=e.apply(t,r),t=r=null):n||o.trailing===!1||(n=setTimeout(s,y)),i}},f.debounce=function(e,l,o){var t,r,i,n,a,s=function(){var d=f.now()-n;l>d?t=setTimeout(s,l-d):(t=null,o||(a=e.apply(i,r),i=r=null))};return function(){i=this,r=arguments,n=f.now();var d=o&&!t;return t||(t=setTimeout(s,l)),d&&(a=e.apply(i,r),i=r=null),a}},f.once=function(e){var l,o=!1;return function(){return o?l:(o=!0,l=e.apply(this,arguments),e=null,l)}},f.wrap=function(e,l){return f.partial(l,e)},f.compose=function(){var e=arguments;return function(){for(var l=arguments,o=e.length-1;o>=0;o--)l=[e[o].apply(this,l)];return l[0]}},f.after=function(e,l){return function(){return--e<1?l.apply(this,arguments):void 0}},f.keys=function(e){if(!f.isObject(e))return[];if(w)return w(e);var l=[];for(var o in e)f.has(e,o)&&l.push(o);return l},f.values=function(e){for(var l=f.keys(e),o=l.length,t=new Array(o),r=0;o>r;r++)t[r]=e[l[r]];return t},f.pairs=function(e){for(var l=f.keys(e),o=l.length,t=new Array(o),r=0;o>r;r++)t[r]=[l[r],e[l[r]]];return t},f.invert=function(e){for(var l={},o=f.keys(e),t=0,r=o.length;r>t;t++)l[e[o[t]]]=o[t];return l},f.functions=f.methods=function(e){var l=[];for(var o in e)f.isFunction(e[o])&&l.push(o);return l.sort()},f.extend=function(e){return G(a.call(arguments,1),function(l){if(l)for(var o in l)e[o]=l[o]}),e},f.pick=function(e){var l={},o=s.apply(t,a.call(arguments,1));return G(o,function(o){o in e&&(l[o]=e[o])}),l},f.omit=function(e){var l={},o=s.apply(t,a.call(arguments,1));for(var r in e)f.contains(o,r)||(l[r]=e[r]);return l},f.defaults=function(e){return G(a.call(arguments,1),function(l){if(l)for(var o in l)void 0===e[o]&&(e[o]=l[o])}),e},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,l){return l(e),e};var P=function(e,l,o,t){if(e===l)return 0!==e||1/e==1/l;if(null==e||null==l)return e===l;e instanceof f&&(e=e._wrapped),l instanceof f&&(l=l._wrapped);var r=d.call(e);if(r!=d.call(l))return!1;switch(r){case"[object String]":return e==String(l);case"[object Number]":return e!=+e?l!=+l:0==e?1/e==1/l:e==+l;case"[object Date]":case"[object Boolean]":return+e==+l;case"[object RegExp]":return e.source==l.source&&e.global==l.global&&e.multiline==l.multiline&&e.ignoreCase==l.ignoreCase}if("object"!=typeof e||"object"!=typeof l)return!1;for(var i=o.length;i--;)if(o[i]==e)return t[i]==l;var n=e.constructor,a=l.constructor;if(n!==a&&!(f.isFunction(n)&&n instanceof n&&f.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in l)return!1;o.push(e),t.push(l);var s=0,y=!0;if("[object Array]"==r){if(s=e.length,y=s==l.length)for(;s--&&(y=P(e[s],l[s],o,t)););}else{for(var b in e)if(f.has(e,b)&&(s++,!(y=f.has(l,b)&&P(e[b],l[b],o,t))))break;if(y){for(b in l)if(f.has(l,b)&&!s--)break;y=!s}}return o.pop(),t.pop(),y};f.isEqual=function(e,l){return P(e,l,[],[])},f.isEmpty=function(e){if(null==e)return!0;if(f.isArray(e)||f.isString(e))return 0===e.length;for(var l in e)if(f.has(e,l))return!1;return!0},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=A||function(e){return"[object Array]"==d.call(e)},f.isObject=function(e){return e===Object(e)},G(["Arguments","Function","String","Number","Date","RegExp"],function(e){f["is"+e]=function(l){return d.call(l)=="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return!(!e||!f.has(e,"callee"))}),"function"!=typeof/./&&(f.isFunction=function(e){return"function"==typeof e}),f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&e!=+e},f.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,l){return y.call(e,l)},f.noConflict=function(){return e._=l,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.property=function(e){return function(l){return l[e]}},f.matches=function(e){return function(l){if(l===e)return!0;for(var o in e)if(e[o]!==l[o])return!1;return!0}},f.times=function(e,l,o){for(var t=Array(Math.max(0,e)),r=0;e>r;r++)t[r]=l.call(o,r);return t},f.random=function(e,l){return null==l&&(l=e,e=0),e+Math.floor(Math.random()*(l-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var x={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};x.unescape=f.invert(x.escape);var U={escape:new RegExp("["+f.keys(x.escape).join("")+"]","g"),unescape:new RegExp("("+f.keys(x.unescape).join("|")+")","g")};f.each(["escape","unescape"],function(e){f[e]=function(l){return null==l?"":(""+l).replace(U[e],function(l){return x[e][l]})}}),f.result=function(e,l){if(null==e)return void 0;var o=e[l];return f.isFunction(o)?o.call(e):o},f.mixin=function(e){G(f.functions(e),function(l){var o=f[l]=e[l];f.prototype[l]=function(){var e=[this._wrapped];return n.apply(e,arguments),M.call(this,o.apply(f,e))}})};var R=0;f.uniqueId=function(e){var l=++R+"";return e?e+l:l},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;f.template=function(e,l,o){var t;o=f.defaults({},o,f.templateSettings);var r=new RegExp([(o.escape||N).source,(o.interpolate||N).source,(o.evaluate||N).source].join("|")+"|$","g"),i=0,n="__p+='";e.replace(r,function(l,o,t,r,a){return n+=e.slice(i,a).replace(B,function(e){return"\\"+V[e]}),o&&(n+="'+\n((__t=("+o+"))==null?'':_.escape(__t))+\n'"),t&&(n+="'+\n((__t=("+t+"))==null?'':__t)+\n'"),r&&(n+="';\n"+r+"\n__p+='"),i=a+l.length,l}),n+="';\n",o.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{t=new Function(o.variable||"obj","_",n)}catch(a){throw a.source=n,a}if(l)return t(l,f);var s=function(e){return t.call(this,e,f)};return s.source="function("+(o.variable||"obj")+"){\n"+n+"}",s},f.chain=function(e){return f(e).chain()};var M=function(e){return this._chain?f(e).chain():e};f.mixin(f),G(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var l=t[e];f.prototype[e]=function(){var o=this._wrapped;return l.apply(o,arguments),"shift"!=e&&"splice"!=e||0!==o.length||delete o[0],M.call(this,o)}}),G(["concat","join","slice"],function(e){var l=t[e];f.prototype[e]=function(){return M.call(this,l.apply(this._wrapped,arguments))}}),f.extend(f.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}).call(this);