function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function createRows(e){for(var t,o=[],l=7,i=0;i<e.length;i++){var r=Alloy.createController("customProductView",{product:e[i],left:l}).getView();0==i&&(t=Titanium.UI.createTableViewRow({selectionStyle:"none",height:Ti.UI.SIZE})),t.add(r),(i-1)%2==0||i==e.length-1?(l=7,o.push(t),t=Titanium.UI.createTableViewRow({selectionStyle:"none",height:Ti.UI.SIZE})):l=Ti.Platform.displayCaps.platformWidth/2}return o}if(require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Products",this.args=arguments[0]||{},arguments[0])var __parentSymbol=__processArg(arguments[0],"__parentSymbol"),$model=__processArg(arguments[0],"$model"),__itemTemplate=__processArg(arguments[0],"__itemTemplate");var $=this,exports={},__defers={};$.__views.winProduct=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,navTintColor:Alloy.Globals.ThemeStyles.win.navTintColor,barColor:Alloy.Globals.ThemeStyles.win.barColor,translucent:!1,id:"winProduct"}),$.__views.winProduct&&$.addTopLevelView($.__views.winProduct),$.__views.productTable=Ti.UI.createTableView({showVerticalScrollIndicator:!1,height:"auto",backgroundColor:"transparent",separatorColor:"#343434",id:"productTable"}),$.__views.winProduct.add($.__views.productTable),$.__views.ind=Ti.UI.createActivityIndicator({style:Ti.UI.iPhone.ActivityIndicatorStyle.BIG,id:"ind"}),$.__views.winProduct.add($.__views.ind),exports.destroy=function(){},_.extend($,$.__views);var args=arguments[0]||{},apiHelper=require("apiHelper"),UTL=require("utl");$.winProduct.addEventListener("open",function(e){UTL.defaultTitle(args),Titanium.Network.online?($.ind.show(),apiHelper.APIGetRequest(Alloy.Globals.URLS.products_url,function(e){var status=this.status;if(200==status){var Json=eval("("+this.responseText+")"),rows=[],totalRows=Math.ceil(Json.result.length/2);rows=createRows(Json.result),$.productTable.setData(rows),$.ind.hide()}},function(){$.ind.hide(),alert("Unknow error from api")})):alert("No internet connection found")}),_.extend($,exports)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;