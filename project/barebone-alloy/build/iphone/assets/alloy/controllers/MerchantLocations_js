function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="MerchantLocations",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.winMerchantLocations=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,barColor:Alloy.Globals.ThemeStyles.win.barColor,navTintColor:Alloy.Globals.ThemeStyles.win.navTintColor,layout:"vertical",translucent:!1,id:"winMerchantLocations",title:"Locations"}),e.__views.winMerchantLocations&&e.addTopLevelView(e.__views.winMerchantLocations);var o=[];e.__views.__alloyId30=Ti.UI.createTableViewRow({id:"__alloyId30"}),o.push(e.__views.__alloyId30),e.__views.btnNewLocation=Ti.UI.createView({top:Alloy.Globals.ThemeStyles.button.padding,left:Alloy.Globals.ThemeStyles.button.padding,right:Alloy.Globals.ThemeStyles.button.padding,width:Ti.UI.FILL,height:Alloy.Globals.ThemeStyles.buttonPurple.height,color:Alloy.Globals.ThemeStyles.buttonPurple.color,backgroundColor:Alloy.Globals.ThemeStyles.buttonPurple.backgroundColor,borderColor:Alloy.Globals.ThemeStyles.buttonPurple.borderColor,borderStyle:Alloy.Globals.ThemeStyles.buttonPurple.borderStyle,borderRadius:Alloy.Globals.ThemeStyles.buttonPurple.borderRadius,borderWidth:Alloy.Globals.ThemeStyles.buttonPurple.borderWidth,font:Alloy.Globals.ThemeStyles.buttonPurple.font,id:"btnNewLocation"}),e.__views.__alloyId30.add(e.__views.btnNewLocation),e.__views.__alloyId31=Ti.UI.createLabel({textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,verticalAlign:Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,color:Alloy.Globals.ThemeStyles.button.color,font:Alloy.Globals.ThemeStyles.button.font,width:"auto",height:"auto",touchEnabled:!1,text:"NEW LOCATION",id:"__alloyId31"}),e.__views.btnNewLocation.add(e.__views.__alloyId31),e.__views.merchantLocationsTable=Ti.UI.createTableView({scrollable:!1,showVerticalScrollIndicator:!1,height:"auto",backgroundColor:"transparent",separatorStyle:"none",borderWidth:0,data:o,id:"merchantLocationsTable"}),e.__views.winMerchantLocations.add(e.__views.merchantLocationsTable),t.destroy=function(){},_.extend(e,e.__views);var l=arguments[0]||{};e.winMerchantLocations.addEventListener("open",function(){API.GetMerchantLocations(function(t){for(var o=0;o<t.length;++o){var i=t[o];l.callback&&(i.callback=function(t){e.winMerchantLocations.close(),l.callback(t)});var r=Alloy.createController("MerchantLocationRow",i).getView();e.merchantLocationsTable.insertRowBefore(0,r)}})}),e.btnNewLocation.addEventListener("click",function(){UTL.ShowPage("AddLocation")}),null!=l.callback&&(e.btnNewLocation.visible=!1),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;