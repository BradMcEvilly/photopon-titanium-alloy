function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){function e(){o(),t(),i()}function t(){""==c.emailField.value?c.emailField.focus():c.passwordField.focus()}function o(){c.winSignUp.setTitleControl(Alloy.createController("titleControl",{title:"Sign Up"}).getView()),Titanium.App.addEventListener("DID_LOGIN",function(){c.winSignUp.close()})}function l(){c.passwordField.focus()}function i(){c.btnSignUp.setVisible(n()?!0:!1)}function r(){if(!Titanium.Network.online)return void Alloy.Globals.showError("Check Internet Connection");var e=c.emailField.value,t=c.passwordField.value;d(),w.Signup(e,t,function(){w.Login(e,t)},function(){u(),a(Alloy.Globals.ErrorMessages.userNameTaken)})}function n(){return UTL.isBlankString(c.emailField.value)||UTL.isBlankString(c.passwordField.value)?!1:!0}function a(e){c.lblSignUp.setText(e),setTimeout(function(){c.lblSignUp.setText(args.title)},5e3)}function s(e){e?(c.emailField.setEditable(!1),c.passwordField.setEditable(!1)):(c.emailField.setEditable(!0),c.passwordField.setEditable(!0))}function d(){c.ind.show(),s(!0),c.lblSignUp.setVisible(!1)}function u(){c.ind.hide(),s(!1),c.lblSignUp.setVisible(!0)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="SignUp",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var c=this,h={},b={};c.__views.winSignUp=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,title:"Sign Up",titleAttributes:Alloy.Globals.ThemeStyles.win.titleAttributes,navTintColor:Alloy.Globals.ThemeStyles.win.navTintColor,barColor:Alloy.Globals.ThemeStyles.win.barColor,translucent:Alloy.Globals.ThemeStyles.win.translucent,id:"winSignUp"}),c.__views.winSignUp&&c.addTopLevelView(c.__views.winSignUp),e?c.__views.winSignUp.addEventListener("open",e):b["$.__views.winSignUp!open!winSignUpOpenHandler"]=!0;var g=[];c.__views.row=Ti.UI.createTableViewRow({height:"auto",selectionStyle:"none",id:"row"}),g.push(c.__views.row),c.__views.emailField=Ti.UI.createTextField({autocapitalization:!1,color:Alloy.Globals.ThemeStyles.textfield.color,height:Alloy.Globals.ThemeStyles.textfield.height,top:Alloy.Globals.ThemeStyles.button.padding,hintText:"Username*",left:Alloy.Globals.ThemeStyles.button.padding,right:Alloy.Globals.ThemeStyles.button.padding,width:Ti.UI.FILL,font:Alloy.Globals.ThemeStyles.textfield.font,paddingLeft:Alloy.Globals.ThemeStyles.button.padding,borderColor:Alloy.Globals.ThemeStyles.textfield.borderColor,borderStyle:Alloy.Globals.ThemeStyles.textfield.borderStyle,borderRadius:Alloy.Globals.ThemeStyles.textfield.borderRadius,id:"emailField"}),c.__views.row.add(c.__views.emailField),i?c.__views.emailField.addEventListener("change",i):b["$.__views.emailField!change!validateSignUp"]=!0,l?c.__views.emailField.addEventListener("return",l):b["$.__views.emailField!return!focusNext"]=!0,c.__views.row=Ti.UI.createTableViewRow({height:"auto",selectionStyle:"none",id:"row"}),g.push(c.__views.row),c.__views.passwordField=Ti.UI.createTextField({autocapitalization:!1,color:Alloy.Globals.ThemeStyles.textfield.color,height:Alloy.Globals.ThemeStyles.textfield.height,top:Alloy.Globals.ThemeStyles.button.padding,hintText:"Password*",left:Alloy.Globals.ThemeStyles.button.padding,right:Alloy.Globals.ThemeStyles.button.padding,width:Ti.UI.FILL,font:Alloy.Globals.ThemeStyles.textfield.font,paddingLeft:Alloy.Globals.ThemeStyles.button.padding,borderColor:Alloy.Globals.ThemeStyles.textfield.borderColor,borderStyle:Alloy.Globals.ThemeStyles.textfield.borderStyle,borderRadius:Alloy.Globals.ThemeStyles.textfield.borderRadius,id:"passwordField",passwordMask:"true"}),c.__views.row.add(c.__views.passwordField),i?c.__views.passwordField.addEventListener("change",i):b["$.__views.passwordField!change!validateSignUp"]=!0,r?c.__views.passwordField.addEventListener("return",r):b["$.__views.passwordField!return!submitBtnHandler"]=!0,c.__views.row=Ti.UI.createTableViewRow({height:"auto",selectionStyle:"none",id:"row"}),g.push(c.__views.row),c.__views.btnSignUp=Ti.UI.createView({top:Alloy.Globals.ThemeStyles.button.padding,left:Alloy.Globals.ThemeStyles.button.padding,right:Alloy.Globals.ThemeStyles.button.padding,width:Ti.UI.FILL,height:Alloy.Globals.ThemeStyles.buttonPurple.height,color:Alloy.Globals.ThemeStyles.buttonPurple.color,backgroundColor:Alloy.Globals.ThemeStyles.buttonPurple.backgroundColor,borderColor:Alloy.Globals.ThemeStyles.buttonPurple.borderColor,borderStyle:Alloy.Globals.ThemeStyles.buttonPurple.borderStyle,borderRadius:Alloy.Globals.ThemeStyles.buttonPurple.borderRadius,borderWidth:Alloy.Globals.ThemeStyles.buttonPurple.borderWidth,font:Alloy.Globals.ThemeStyles.buttonPurple.font,id:"btnSignUp",visible:"false"}),c.__views.row.add(c.__views.btnSignUp),c.__views.lblSignUp=Ti.UI.createLabel({text:"SIGN UP",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,verticalAlign:Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,color:Alloy.Globals.ThemeStyles.button.color,font:Alloy.Globals.ThemeStyles.button.font,width:"auto",height:"auto",touchEnabled:!1,id:"lblSignUp"}),c.__views.btnSignUp.add(c.__views.lblSignUp),c.__views.ind=Ti.UI.createActivityIndicator({style:Ti.UI.iPhone.ActivityIndicatorStyle.BIG,indicatorColor:Alloy.Globals.ThemeColors.black,indicatorDiameter:"75dp",id:"ind"}),c.__views.btnSignUp.add(c.__views.ind),c.__views.signUpTable=Ti.UI.createTableView({scrollable:!1,showVerticalScrollIndicator:!1,height:"auto",backgroundColor:"transparent",separatorStyle:"none",borderWidth:0,data:g,id:"signUpTable"}),c.__views.winSignUp.add(c.__views.signUpTable),h.destroy=function(){},_.extend(c,c.__views);var w=require("apiHelper");c.winSignUp.addEventListener("close",function(){c.destroy()}),c.btnSignUp.addEventListener("touchstart",function(){c.btnSignUp.backgroundColor=Alloy.Globals.ThemeStyles.button.selectedBackgroundColor}),c.btnSignUp.addEventListener("touchcancel",function(){c.btnSignUp.backgroundColor=Alloy.Globals.ThemeStyles.button.backgroundColor}),c.btnSignUp.addEventListener("touchend",function(){c.btnSignUp.backgroundColor=Alloy.Globals.ThemeStyles.button.backgroundColor,r()}),b["$.__views.winSignUp!open!winSignUpOpenHandler"]&&c.__views.winSignUp.addEventListener("open",e),b["$.__views.emailField!change!validateSignUp"]&&c.__views.emailField.addEventListener("change",i),b["$.__views.emailField!return!focusNext"]&&c.__views.emailField.addEventListener("return",l),b["$.__views.passwordField!change!validateSignUp"]&&c.__views.passwordField.addEventListener("change",i),b["$.__views.passwordField!return!submitBtnHandler"]&&c.__views.passwordField.addEventListener("return",r),_.extend(c,h)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;