function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Map",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.winMap=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,barColor:Alloy.Globals.ThemeStyles.win.barColor,navTintColor:Alloy.Globals.ThemeStyles.win.navTintColor,translucent:!1,id:"winMap"}),e.__views.winMap&&e.addTopLevelView(e.__views.winMap);var o=[];e.__views.mapview=Ti.Map.createView({region:{latitude:Alloy.Globals.MapData.origin.latitude,longitude:Alloy.Globals.MapData.origin.longitude,latitudeDelta:.01,longitudeDelta:.01},animate:!0,regionFit:!0,userLocation:!0,annotations:o,id:"mapview"}),e.__views.winMap.add(e.__views.mapview),t.destroy=function(){},_.extend(e,e.__views);var l=arguments[0]||{},i=this;this.isMenuShown=!1,e.winMap.setTitleControl(Alloy.createController("titleControl",{title:l.title}).getView()),l.isFlyout?e.winMap.leftNavButton=Alloy.createController("LeftMenuButton1").getView():e.winMap.backButtonTitle="Back",e.Right_Menu=Alloy.createController("RightMenu",{context:i}).getView(),e.winMap.add(e.Right_Menu),e.winMap.rightNavButton=Alloy.createController("rightMenuButton",{Right_Menu:e.Right_Menu,context:i}).getView(),e.winMap.addEventListener("open",function(){for(var t=[],o=Alloy.Globals.MapData,l=0;l<o.annotations.length;l++){var i=Ti.Map.createAnnotation({latitude:o.annotations[l].latitude,longitude:o.annotations[l].longitude,title:o.annotations[l].title,subtitle:o.annotations[l].subtitle,pincolor:Titanium.Map.ANNOTATION_RED,leftButton:"/images/sample_map_image.png",animate:!1,rightButton:Ti.UI.iPhone.SystemButton.DISCLOSURE});t.push(i),e.mapview.setAnnotations(t)}}),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;