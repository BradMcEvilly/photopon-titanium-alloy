function __processArg(e,t){var o=null;return e&&(o=e[t]||null,delete e[t]),o}function Controller(){if(require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="Brands",this.args=arguments[0]||{},arguments[0])var __parentSymbol=__processArg(arguments[0],"__parentSymbol"),$model=__processArg(arguments[0],"$model"),__itemTemplate=__processArg(arguments[0],"__itemTemplate");var $=this,exports={},__defers={};$.__views.winBrands=Ti.UI.createWindow({backgroundColor:Alloy.Globals.ThemeStyles.win.backgroundColor,title:"Brands",navTintColor:Alloy.Globals.ThemeStyles.win.navTintColor,barColor:Alloy.Globals.ThemeStyles.win.barColor,translucent:!1,id:"winBrands"}),$.__views.winBrands&&$.addTopLevelView($.__views.winBrands),$.__views.brandsTable=Ti.UI.createTableView({showVerticalScrollIndicator:!1,height:"auto",backgroundColor:"transparent",separatorColor:"transparent",id:"brandsTable"}),$.__views.winBrands.add($.__views.brandsTable),$.__views.ind=Ti.UI.createActivityIndicator({style:Ti.UI.iPhone.ActivityIndicatorStyle.BIG,id:"ind"}),$.__views.winBrands.add($.__views.ind),exports.destroy=function(){},_.extend($,$.__views);var apiHelper=require("apiHelper"),UTL=require("utl"),args=arguments[0]||{},that=this;this.isMenuShown=!1,$.Right_Menu=Alloy.createController("RightMenu",{context:that}).getView(),$.winBrands.add($.Right_Menu),$.winBrands.rightNavButton=Alloy.createController("rightMenuButton",{Right_Menu:$.Right_Menu,context:that}).getView(),$.winBrands.addEventListener("open",function(e){UTL.defaultTitle(args),Titanium.Network.online?($.ind.show(),apiHelper.APIGetRequest(Alloy.Globals.URLS.news_url,function(e){var status=this.status;if(200==status){for(var Json=eval("("+this.responseText+")"),rows=[],i=0;i<Json.result.length;i++)rows.push(Alloy.createController("newsRow",{NewsItem:Json.result[i]}).getView());$.brandsTable.setData(rows),$.ind.hide()}},function(){$.ind.hide(),alert("Unknow error from api")})):alert("No internet connection found")}),$.brandsTable.addEventListener("click",function(e){var t=Alloy.createController("NewsDetail",{NewsItem:e.row.NewsItem}).getView();Alloy.Globals.navGroup.openWindow(t)}),_.extend($,exports)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;